[
  {
    "step": "health",
    "status": "ok",
    "response": {
      "status": "ok",
      "service": "ERC-8004 Demo Server",
      "version": "S50",
      "sprint": "S50",
      "tests": 6185,
      "test_count": 6185,
      "port": 8084,
      "uptime_s": 29.2,
      "dev_mode": true,
      "highlights": [
        "Portfolio risk engine (VaR 95/99%)",
        "10-agent swarm with 6 strategies",
        "Position sizing (Kelly/volatility/fixed)",
        "Exposure dashboard with concentration index",
        "Performance summary endpoint (/api/v1/performance/summary)"
      ]
    }
  },
  {
    "step": "swarm_vote",
    "status": "ok",
    "response": {
      "symbol": "BTC-USD",
      "signal_type": "BUY",
      "votes": [
        {
          "agent_id": "quant-1",
          "strategy": "momentum",
          "stake": 12.0,
          "vote": "BUY",
          "confidence": 0.767,
          "agrees": true
        },
        {
          "agent_id": "quant-2",
          "strategy": "mean_revert",
          "stake": 10.0,
          "vote": "SELL",
          "confidence": 0.626,
          "agrees": false
        },
        {
          "agent_id": "quant-3",
          "strategy": "arb",
          "stake": 11.0,
          "vote": "BUY",
          "confidence": 0.748,
          "agrees": true
        },
        {
          "agent_id": "quant-4",
          "strategy": "trend",
          "stake": 9.0,
          "vote": "BUY",
          "confidence": 0.726,
          "agrees": true
        },
        {
          "agent_id": "quant-5",
          "strategy": "contrarian",
          "stake": 8.0,
          "vote": "SELL",
          "confidence": 0.764,
          "agrees": false
        },
        {
          "agent_id": "quant-6",
          "strategy": "hybrid",
          "stake": 10.0,
          "vote": "SELL",
          "confidence": 0.53,
          "agrees": false
        },
        {
          "agent_id": "quant-7",
          "strategy": "momentum",
          "stake": 11.0,
          "vote": "BUY",
          "confidence": 0.721,
          "agrees": true
        },
        {
          "agent_id": "quant-8",
          "strategy": "trend",
          "stake": 9.5,
          "vote": "BUY",
          "confidence": 0.539,
          "agrees": true
        },
        {
          "agent_id": "quant-9",
          "strategy": "mean_revert",
          "stake": 8.5,
          "vote": "SELL",
          "confidence": 0.576,
          "agrees": false
        },
        {
          "agent_id": "quant-10",
          "strategy": "contrarian",
          "stake": 10.0,
          "vote": "SELL",
          "confidence": 0.721,
          "agrees": false
        }
      ],
      "vote_summary": {
        "BUY": 5,
        "SELL": 5
      },
      "agree_count": 5,
      "total_agents": 10,
      "weighted_agree_fraction": 0.5303,
      "consensus_threshold": 0.6666666666666666,
      "consensus_reached": false,
      "consensus_action": "HOLD",
      "total_stake": 99.0,
      "voted_at": 1772176147.8663528,
      "version": "S46"
    }
  },
  {
    "step": "risk_portfolio",
    "status": "ok",
    "response": {
      "portfolio": {
        "var_95": 0.046077,
        "var_99": 0.066059,
        "sharpe_ratio": 0.1269,
        "sortino_ratio": 0.1256,
        "calmar_ratio": 0.3068,
        "max_drawdown": 0.260062,
        "n_symbols": 4,
        "history_days": 252
      },
      "per_symbol": {
        "BTC-USD": {
          "var_95": 0.057967,
          "var_99": 0.071992,
          "sharpe": -0.8423,
          "sortino": -0.8336,
          "calmar": -0.8282,
          "max_drawdown": 0.514172
        },
        "ETH-USD": {
          "var_95": 0.06629,
          "var_99": 0.089773,
          "sharpe": 0.9181,
          "sortino": 0.937,
          "calmar": 1.4808,
          "max_drawdown": 0.44113
        },
        "SOL-USD": {
          "var_95": 0.08628,
          "var_99": 0.145156,
          "sharpe": 0.1741,
          "sortino": 0.1753,
          "calmar": 0.273,
          "max_drawdown": 0.650282
        },
        "MATIC-USD": {
          "var_95": 0.111197,
          "var_99": 0.152484,
          "sharpe": -0.1018,
          "sortino": -0.1014,
          "calmar": -0.1128,
          "max_drawdown": 0.760404
        }
      },
      "correlation_matrix": {
        "BTC-USD": {
          "BTC-USD": 1.0,
          "ETH-USD": 0.0447,
          "SOL-USD": -0.0413,
          "MATIC-USD": 0.0987
        },
        "ETH-USD": {
          "BTC-USD": 0.0447,
          "ETH-USD": 1.0,
          "SOL-USD": 0.0307,
          "MATIC-USD": 0.1303
        },
        "SOL-USD": {
          "BTC-USD": -0.0413,
          "ETH-USD": 0.0307,
          "SOL-USD": 1.0,
          "MATIC-USD": -0.0462
        },
        "MATIC-USD": {
          "BTC-USD": 0.0987,
          "ETH-USD": 0.1303,
          "SOL-USD": -0.0462,
          "MATIC-USD": 1.0
        }
      },
      "symbols": [
        "BTC-USD",
        "ETH-USD",
        "SOL-USD",
        "MATIC-USD"
      ],
      "generated_at": 1772176147.87645,
      "version": "S46"
    }
  },
  {
    "step": "performance",
    "status": "ok",
    "response": {
      "total_paper_trades": 0,
      "total_pnl": 0.0,
      "win_rate": 0.0,
      "avg_trade_pnl": 0.0,
      "best_trade": 0.0,
      "worst_trade": 0.0,
      "sharpe_ratio": 0.0,
      "drawdown_pct": 0.0,
      "active_agents": 10,
      "version": "S48",
      "note": "No completed paper trades yet \u2014 place orders via POST /api/v1/trading/paper/order"
    }
  },
  {
    "step": "showcase",
    "status": "ok",
    "response": {
      "showcase": "ERC-8004 Full Pipeline",
      "version": "S50",
      "total_duration_ms": 5.68,
      "steps": [
        {
          "step": 1,
          "label": "Live Price Tick \u2014 BTC-USD",
          "duration_ms": 0.05,
          "result": {
            "symbol": "BTC-USD",
            "price": 67517.18,
            "bid": 67506.85,
            "ask": 67536.52,
            "volume_24h": 20709.5,
            "change_24h_pct": -0.538,
            "source": "demo_feed"
          }
        },
        {
          "step": 2,
          "label": "10-Agent Swarm Vote \u2014 LONG BTC-USD",
          "duration_ms": 0.11,
          "result": {
            "total_agents": 10,
            "agree_count": 6,
            "weighted_agree_fraction": 0.6313,
            "consensus_reached": false,
            "consensus_action": "HOLD",
            "vote_summary": {
              "BUY": 6,
              "SELL": 4
            }
          }
        },
        {
          "step": 3,
          "label": "Risk Engine \u2014 VaR 95/99% + Kelly Position Size",
          "duration_ms": 5.5,
          "result": {
            "portfolio_var_95": 0.046077,
            "portfolio_var_99": 0.066059,
            "portfolio_sharpe": 0.1269,
            "btc_recommended_position_usd": 59288.59,
            "btc_position_pct_of_capital": 0.5929,
            "sizing_method": "volatility",
            "rationale": "Risk budget $2000.00 / daily vol 0.0337"
          }
        },
        {
          "step": 4,
          "label": "Paper Trade Execution \u2014 Consensus Decision",
          "duration_ms": 0.01,
          "result": {
            "trade_id": "s47-showcase-1772176147",
            "symbol": "BTC-USD",
            "side": "HOLD",
            "qty": 0.87826,
            "fill_price": 67506.85,
            "position_usd": 59288.59,
            "fee_usd": 29.6443,
            "slippage_pct": 0.05,
            "mode": "paper",
            "driven_by": "swarm_consensus",
            "agent_count": 10
          }
        }
      ],
      "summary": {
        "btc_price": 67517.18,
        "swarm_consensus": "HOLD",
        "consensus_agents": "6/10",
        "var_95": 0.046077,
        "position_usd": 59288.59,
        "trade_executed": "s47-showcase-1772176147"
      },
      "generated_at": 1772176147.8898377
    }
  }
]